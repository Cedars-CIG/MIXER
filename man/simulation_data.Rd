% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/simulate_and_split.R
\name{simulation_data}
\alias{simulation_data}
\title{Simulate outcome data and split into train/validation/test sets}
\usage{
simulation_data(
  df_feature = NULL,
  effect_size = 1,
  feature_causal_positive = 50,
  feature_causal_negative = 50,
  target_prev = 0.14,
  train_prop = 0.8,
  val_prop = 0.1,
  test_prop = 0.1,
  iid_col = "IID",
  beta_sd = 0.2,
  seed = 12345
)
}
\arguments{
\item{df_feature}{A data.frame containing an ID column and feature columns.
If \code{NULL}, uses \code{features_example}.}

\item{effect_size}{Mean magnitude of causal effects.}

\item{feature_causal_positive}{Number of causal features with positive effects.}

\item{feature_causal_negative}{Number of causal features with negative effects.}

\item{target_prev}{Target prevalence for \code{y = 1}.}

\item{train_prop}{Proportion of training samples.}

\item{val_prop}{Proportion of validation samples.}

\item{test_prop}{Proportion of test samples.}

\item{iid_col}{Name of the ID column.}

\item{beta_sd}{Standard deviation around \code{+/-effect_size}.}

\item{seed}{Random seed for reproducibility.}
}
\value{
A list containing:
\itemize{
\item \code{y_train}, \code{y_val}, \code{y_test}
\item \code{feature_train}, \code{feature_val}, \code{feature_test}
\item \code{causal_table}
\item \code{intercept}
\item \code{prevalence_observed}
}
}
\description{
This function simulates a binary response \code{y} from a subset of causal
features using a logistic model with a calibrated intercept to match a target
prevalence. The resulting dataset is split into stratified train, validation,
and test sets and is ready for direct use in the MIXER pipeline.
}
\details{
If \code{df_feature} is \code{NULL}, the internal example dataset
\code{features_example} shipped with the MIXER package is used.
}
\examples{
\dontrun{
data(features_example)
out <- simulation_data(
  effect_size = 1,
  feature_causal_positive = 50,
  feature_causal_negative = 50
)
}

}
